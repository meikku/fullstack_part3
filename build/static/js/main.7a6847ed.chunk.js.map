{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleQuery","query","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","PersonForm","error","setError","setMessage","setNewName","setNewNumber","setPersons","newName","newNumber","persons","handleNameChange","handleNumberChange","alterNumber","nameObject","console","log","window","confirm","personToChange","find","person","name","changedObject","number","personService","returnedPerson","map","catch","setTimeout","filter","onSubmit","event","preventDefault","some","concat","value","type","Persons","newQuery","personsToShow","toLowerCase","includes","key","onClick","Notification","message","className","App","useState","setNewQuery","setPersonsToShow","useEffect","initialPersons","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a6847ed.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ( {handleQuery}) => {\n  return (\n    <div>\n        <form>\n          filter shown with <input query=\"text\" onChange={handleQuery}>\n          </input>\n      </form>\n    </div>\n  )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = ( id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst alter = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, alter }","import React from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ( {error, setError, setMessage, setNewName, setNewNumber, setPersons, newName, newNumber, persons, handleNameChange, handleNumberChange}) => {\n   \n  const addName = (event) => {\n        event.preventDefault()\n    \n        const nameObject = {\n          name: newName, \n          number: newNumber\n        }\n        if (persons.some(person => person.name === newName)){\n          alterNumber (nameObject, newNumber)\n        }\n        else\n        {\n          personService\n          .create(nameObject)\n          .then(returnedPerson => {\n            setError(false)\n            setPersons(persons.concat(returnedPerson))\n            setMessage(`added '${returnedPerson.name}' `)\n            setTimeout(() => {setMessage(null)}, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n        } \n      }\n\n  const alterNumber = (nameObject, newNumber) => {\n    console.log(\"error = \", error)\n        if (window.confirm(` ${newName} is already added to phonebook, replace the old number with a new one?` )) {\n        const personToChange = persons.find(person => person.name === newName)\n        const changedObject = {...personToChange, number: newNumber}\n        personService\n        .alter(personToChange.id, changedObject)\n        .then(returnedPerson => {\n         setPersons(persons.map(person => person.id !== personToChange.id ? person : returnedPerson))\n         setNewName('')\n         setNewNumber('')\n        })\n        .catch(error => {\n          setError(true)\n          setMessage(`Information of '${newName}' has already been removed from server`)\n          setTimeout(() => {setMessage(null)}, 5000)\n          setPersons(persons.filter(person => person.id !== personToChange.id))\n          setNewName('')\n          setNewNumber('')\n        })\n      }\n      }\n      \n     \n      return (\n           <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} \n          onChange={handleNameChange}/>\n        </div>\n        <div>number: <input value={newNumber}\n          onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      )\n    \n}\nexport default PersonForm","import React from 'react'\nimport personService from '../services/persons'\n\nconst Persons = ( {persons, setPersons, newQuery, personsToShow} ) => {\n\n  personsToShow = !newQuery\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(newQuery.toLowerCase()))\n\n  const handleDelete = (name, id) => {\n    console.log(\"name = \", name)\n    console.log(\"id =\", id)\n    if (window.confirm(`Delete '${name}' ?`))\n    \n    personService\n    .remove(id)\n    .then(setPersons(persons.filter(person => person.id !== id ))\n    )\n  }\n  return (\n    <>\n        <ul>\n        {personsToShow.map(person =>\n        <li key={person.id}>{person.name}{' '}{person.number}\n        <button onClick= {() => handleDelete(person.name, person.id)}>delete</button>\n        </li> \n        )}\n      </ul>\n    </>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n    if (message === null) {\n      return null\n    }\n    if (error === true)\n    {\n      return (\n        <div className=\"error\">\n        {message}\n      </div>\n      )\n    }\n    if (error === false)\n    {\n      return (\n      \n        <div className=\"info\">\n          {message}\n        </div>\n      )\n    }\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = ( ) => {\n  const [ persons, setPersons ] = useState([ ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newQuery, setNewQuery ] = useState('')\n  const [ personsToShow, setPersonsToShow] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError] = useState(false)\n\n\n  \n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  \n  const handleNameChange = (event) => {\n    event.preventDefault()\n      setNewName(event.target.value)  \n  }\n  const handleNumberChange = (event) => {\n    event.preventDefault()\n    setNewNumber(event.target.value)\n  }\n  const handleQuery = (event) => {\n   setNewQuery(event.target.value)\n  }\n  \n  \n  return (\n    <div>\n      <h3>Phonebook</h3>\n      <Notification message={message} error={error}/>\n      <Filter   handleQuery={handleQuery}/>\n      <h3>add a new</h3>\n      <PersonForm error={error} setError={setError} message={message} setMessage={setMessage} setNewName={setNewName} setNewNumber={setNewNumber} setPersons={setPersons} newName={newName} newNumber={newNumber} persons={persons} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h3>Numbers </h3>\n      <Persons persons={persons} newQuery={newQuery} setPersons={setPersons} personsToShow={personsToShow} setPersonsToShow={setPersonsToShow}/>\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\n\nimport App from './App';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}